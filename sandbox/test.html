<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#"><head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>

        <!-- Icon made by Twitter -->
        <!-- https://twemoji.twitter.com/content/twemoji-twitter/en.html -->
        <link href="../robot-face.png" rel="icon"/>
        <link href="../robot-face.png" rel="apple-touch-icon"/>

        <meta content="hakyll" name="generator"/>
        <meta content="English" name="language"/>
<meta name="keywords" content>
        
        <!-- TODO concat with keywords tags; also need to make comma separated? -->

        <title>Org-mode sandbox | beepb00p</title>

        <link href="https://fonts.googleapis.com/css?family=Source+Serif+Pro" rel="stylesheet" type="text/css"/>
        <link href="../css/default.css?v=3" rel="stylesheet"/>
        <!-- TODO make conditional?? -->
        <link href="../css/posts-list.css" rel="stylesheet"/> 
        <link href="../css/links.css?v=4" rel="stylesheet"/>

        

        <link href="https://beepb00p.xyz/sandbox/test.html" rel="canonical"/>

        <!-- can test it with https://telegram.me/webpagebot -->
        <!-- or https://developers.facebook.com/tools/debug -->
        <meta content="website" property="og:type"/>
        <meta content="https://beepb00p.xyz/sandbox/test.html" property="og:url"/> <!-- TODO base? -->
        <meta content="Org-mode sandbox | beepb00p" property="og:title"/>
        <meta content="" property="og:description"/>
        <!-- ugh. why is image necessary??? otherwise other parts aren't working or I get lots of 404s -->
        <!-- ugh. Facebook really wants jpg? -->
        <!-- also Facebook displays it with black background, but whatever, fuck it. -->
        <meta content="https://beepb00p.xyz/robot-face.jpg" property="og:image"/>

    </head>
    <body>
        <!-- TODO make semantic -->
        <header>
            <nav>
                <span class="nav-left">
                    <a class="fat" href="../">Home</a>
                    <!-- TODO eh, not sure if this symbol is good for that... -->
                    ·
                    <a class="fat" href="../ideas.html">Ideas</a>
                    ·
                    <a class="fat" href="../exobrain">Exobrain</a>
                    ·
                    <a class="fat" href="../tags.html">Tags</a>
                </span>
                <span class="nav-right">
                    <a class="fat" href="../feed.html">Feed</a>
                    ·
                    <a class="fat" href="../site.html">Site</a>
                    ·
                    <a class="fat" href="../me.html">Me</a>
                </span>
            </nav>
        </header>

        <main>
            

<!-- <link rel="stylesheet" href="/css/org.css" /> -->

<link href="../css/htmlize.css" rel="stylesheet"/>
<link href="../css/org-default.css" rel="stylesheet"/>

<link href="../css/org-extra.css?v=3" rel="stylesheet"/>



<article>
    
    <section class="post-title">
    <h1>Org-mode sandbox</h1>
    
    </section>
    <!-- are sections appropriate for that? -->

    <section class="content">
    <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org0000000">regular heading</a>
<ul>
<li><a href="#org0000001">regular child 1</a></li>
<li><a href="#org0000002">regular child 2</a></li>
</ul>
</li>
<li><a href="#org0000003">heading with CREATED timestamp</a></li>
<li><a href="#past">intrapage link to a future heading</a></li>
<li><a href="#something"><span class="timestamp-wrapper"><span class="timestamp">[2019-09-02 19:45]</span></span> heading   <span class="tag"><span class="tag1">tag1</span> <span class="tag2">tag2</span></span></a>
<ul>
<li><a href="#org0000004"><span class="todo TODO">TODO</span> <span class="timestamp-wrapper"><span class="timestamp">[2019-09-02 19:46]</span></span> private tags?</a></li>
<li><a href="#org0000005"><span class="timestamp-wrapper"><span class="timestamp">[2020-04-29 22:02]</span></span> more sidenote testing…</a></li>
</ul>
</li>
<li><a href="#org0000006">testing tags aside plain list</a></li>
<li><a href="#babel">code exports (org-babel)</a>
<ul>
<li><a href="#babel_python">python</a></li>
<li><a href="#org0000007">proper error handling in code exports</a></li>
<li><a href="#babel_custom">Custom language (mypy as an example)</a></li>
<li><a href="#babel_context">modifying Babel execution context</a></li>
</ul>
</li>
<li><a href="#links">links</a></li>
<li><a href="#spacing">spacing between items</a>
<ul>
<li><a href="#org000000a">xxxx</a></li>
<li><a href="#org000000b"><span class="todo TODO">TODO</span> <span class="priority">[C]</span> mention why it's necessary; there was smth wrong with default</a></li>
</ul>
</li>
<li><a href="#inline_verbatim">different kinds of inline code</a></li>
<li><a href="#table">table</a></li>
<li><a href="#plot">plot</a></li>
</ul>
</div>
</div>
<p>
Here I'm demonstrating/testing various settings and tweaks I've got for org-mode exports.
</p>
<div class="outline-2">
<h2 id="org0000000"><a class="headerlink" href="#org0000000">¶</a>regular heading</h2>
<div class="outline-text-2">
<p>
If you hover over a child, you'd see dashed line to the left that outlines the span.
</p>
</div>
<div class="outline-3">
<h3 id="org0000001"><a class="headerlink" href="#org0000001">¶</a>regular child 1</h3>
<div class="outline-text-3">
<p>
types of fusion
</p>
<ul class="org-ul">
<li>Thermonuclear fusion</li>
<li>Inertial confinement fusion</li>
<li>Inertial electrostatic confinement</li>
<li>Beam-beam or beam-target fusion</li>
</ul>
</div>
</div>
<div class="outline-3">
<h3 id="org0000002"><a class="headerlink" href="#org0000002">¶</a>regular child 2</h3>
<div class="outline-text-3">
<p>
Nuclear fission of heavy elements was discovered on December 17, 1938 by German Otto Hahn and his assistant Fritz Strassmann, and explained theoretically in January 1939 by Lise Meitner and her nephew Otto Robert Frisch. Frisch named the process by analogy with biological fission of living cells. For heavy nuclides, it is an exothermic reaction which can release large amounts of energy both as electromagnetic radiation and as kinetic energy of the fragments (heating the bulk material where fission takes place). In order for fission to produce energy, the total binding energy of the resulting elements must be more negative (greater binding energy) than that of the starting element. 
</p>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="org0000003"><a class="headerlink" href="#org0000003">¶</a>heading with CREATED timestamp</h2>
<div class="outline-text-2">
<div class="properties">
<div class="property CREATED"><span class="property-name">CREATED:</span> <span class="property-value">[2019-11-17 02:13]</span></div>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="past"><a class="headerlink" href="#past">¶</a>intrapage link to a <a class="link-down" href="#something">future</a> heading</h2>
<div class="outline-text-2" id="text-past">
<p>
That way you know you'd encounter linked item later on the page if you just keep reading.
</p>
<p>
Perhaps that's better to handle this via browser extension, then it'd work on all pages.
</p>
</div>
</div>
<div class="outline-2">
<h2 id="something"><a class="headerlink" href="#something">¶</a><span class="timestamp-wrapper"><span class="timestamp">[2019-09-02 19:45]</span></span> heading   <span class="tag"><span class="tag1">tag1</span> <span class="tag2">tag2</span></span></h2>
<div class="outline-text-2" id="text-something">
<div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">
The sidenote will be displayed on the right 
</span><aside class="sidenote">see <a class="post-tag" href="../tags.html#extendedmind">#extendedmind</a></aside></div>
</div>
<div class="outline-3">
<h3 id="org0000004"><a class="headerlink" href="#org0000004">¶</a><span class="todo TODO">TODO</span> <span class="timestamp-wrapper"><span class="timestamp">[2019-09-02 19:46]</span></span> private tags?</h3>
</div>
<div class="outline-3">
<h3 id="org0000005"><a class="headerlink" href="#org0000005">¶</a><span class="timestamp-wrapper"><span class="timestamp">[2020-04-29 22:02]</span></span> more sidenote testing…</h3>
<div class="outline-text-3">
<p>
Aside notes shouldn't overlap!
</p>
<div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">
some long sentence  some long sentence some long sentence some long sentence some long sentence some long
sentence some long sentence some long sentence 
</span><aside class="sidenote">some words long long long long long long long long</aside></div>
<div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">
more words 
</span><aside class="sidenote">more words long long long long long long long long</aside></div>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="org0000006"><a class="headerlink" href="#org0000006">¶</a>testing tags aside plain list</h2>
<div class="outline-text-2">
<ul class="org-ul">
<li>eins</li>
<li><div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">zwei </span><aside class="sidenote">means 'two' in German</aside></div></li>
<li>drei</li>
</ul>
</div>
</div>
<div class="outline-2">
<h2 id="babel"><a class="headerlink" href="#babel">¶</a>code exports (org-babel)</h2>
<div class="outline-text-2" id="text-babel">
</div>
<div class="outline-3">
<h3 id="babel_python"><a class="headerlink" href="#babel_python">¶</a>python</h3>
<div class="outline-text-3" id="text-babel_python">
<p>
This is a code block:
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">a</span> = <span class="org-string">"whatever"</span>
</pre>
</div>
<p>
Separate code block, but they are sharing a 'session', so the following block has access to <code class="inline">a</code>.
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">print</span>(a)
</pre>
</div>
<pre class="example">whatever
</pre>
</div>
</div>
<div class="outline-3">
<h3 id="org0000007"><a class="headerlink" href="#org0000007">¶</a>proper error handling in code exports</h3>
<div class="outline-text-3">
<div class="properties">
<div class="property CREATED"><span class="property-name">CREATED:</span> <span class="property-value">[2020-02-27 10:15]</span></div>
</div>
<p>
This would fail when executed. By default, Emacs simply swallows the errors.
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> notexisting
</pre>
</div>
</div>
<div class="outline-4">
<h4 id="org0000008"><span class="todo TODO">TODO</span> <span class="timestamp-wrapper"><span class="timestamp">[2020-02-27 12:48]</span></span> need to add defensive policy to display errors in the result</h4>
</div>
</div>
<div class="outline-3">
<h3 id="babel_custom"><a class="headerlink" href="#babel_custom">¶</a>Custom language (mypy as an example)</h3>
<div class="outline-text-3" id="text-babel_custom">
<p>
Custom mypy executor that runs both code and mypy
</p>
<div class="org-src-container">
<pre class="src src-mypy"><span class="org-keyword">def</span> <span class="org-function-name">whatever</span>(s: <span class="org-builtin">str</span>) -&gt; <span class="org-builtin">int</span>:
    <span class="org-keyword">return</span> s + 1
</pre>
</div>
<pre class="example">Mypy output [exit code 1]:
input.py: note: In function "whatever":
input.py:2: error: Returning Any from function declared to return
"int"  [no-any-return]
        return s + 1
        ^
input.py:2: error: Unsupported operand types for + ("str" and "int")
 [operator]
        return s + 1
                   ^
Found 2 errors in 1 file (checked 1 source file)
</pre>
</div>
<div class="outline-4">
<h4 id="org0000009"><span class="todo TODO">TODO</span> <span class="timestamp-wrapper"><span class="timestamp">[2019-10-24 15:26]</span></span> eh, need to implement proper eval for it somehow..</h4>
</div>
</div>
<div class="outline-3">
<h3 id="babel_context"><a class="headerlink" href="#babel_context">¶</a>modifying Babel execution context</h3>
<div class="outline-text-3" id="text-babel_context">
<p>
Set variables in Elisp code (remember to use <code class="inline">:exports both</code>):
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">perhaps more useful: (setenv "PATH" (concat "WHATEVER" ":" (getenv "PATH"))))</span>
(setenv <span class="org-string">"BABEL"</span> <span class="org-string">"yes"</span>)
</pre>
</div>
<pre class="example">yes
</pre>
<p>
Use them in the code blocks in the rest of the document:
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> os
<span class="org-keyword">print</span>(<span class="org-string">"Babel? "</span>, os.environ[<span class="org-string">'BABEL'</span>])
</pre>
</div>
<pre class="example">Babel?  yes
</pre>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="links"><a class="headerlink" href="#links">¶</a>links</h2>
<div class="outline-text-2" id="text-links">
<ul class="org-ul">
<li><p>
<a href="../myinfra.html">File links</a>
</p>
<p>
These are really nice, because:
</p>
<ul class="org-ul">
<li>when you edit org-mode, you see <samp class="inline">[[file:../myinfra.org][File links]]</samp>, so you can jump straight to the file, etc</li>
<li>during HTML export, the link resolves to relative HTML link</li>
</ul>
<p>
For more info see org-mode docs on <a href="https://orgmode.org/guide/Hyperlinks.html#External-Links-1">Hyperlinks</a>
</p></li>
<li><a class="link-up" href="#past">intrapage link</a> to a past heading</li>
<li><p>
<a class="link-down" href="#internal">internal Org link, within the document</a>, can be inserted anywhere in org file
</p>
<p>
Note that I got a fix so internal links end up with meaningful names.
</p>
<p>
By default, they are some sort of arbitrary hashes.
</p></li>
</ul>
<ul class="org-ul">
<li><p>
link icons (inspired by Gwern)
</p>
<p>
Should be a browser extension, to be honest.
</p>
<ul class="org-ul">
<li><a href="http://immortality-roadmap.com/IMMORTEN.pdf">pdf</a></li>
<li><a href="https://en.wikipedia.org/wiki/Technological_singularity">wiki</a></li>
<li><a href="https://github.com/karlicoss/beepb00p">github</a></li>
<li><a href="https://emacs.stackexchange.com/questions/2563/helm-search-within-buffer-feature">stackexchange</a></li>
<li><a href="https://www.youtube.com/watch?v=eTLTXDHrgtw">youtube</a></li>
<li><a href="http://quantifiedself.com/wp-content/uploads/2012/04/QM_collage.jpg">image</a></li>
</ul></li>
</ul>
<p>
target for <a id="internal"></a> internal org link (see <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Internal-links">here</a>)
</p>
</div>
</div>
<div class="outline-2">
<h2 id="spacing"><a class="headerlink" href="#spacing">¶</a>spacing between items</h2>
<div class="outline-text-2" id="text-spacing">
</div>
<div class="outline-3">
<h3 id="org000000a"><a class="headerlink" href="#org000000a">¶</a>xxxx</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>one</li>
<li>twoo</li>
<li><p>
thrreee
</p>
<p>
and some text
</p></li>
</ul>
</div>
</div>
<div class="outline-3">
<h3 id="org000000b"><a class="headerlink" href="#org000000b">¶</a><span class="todo TODO">TODO</span> <span class="priority">[C]</span> mention why it's necessary; there was smth wrong with default</h3>
</div>
</div>
<div class="outline-2">
<h2 id="inline_verbatim"><a class="headerlink" href="#inline_verbatim">¶</a>different kinds of inline code</h2>
<div class="outline-text-2" id="text-inline_verbatim">
<p>
<code class="inline">this_is_code()</code> and <samp class="inline">/this/is/verbatim</samp>
</p>
</div>
</div>
<div class="outline-2">
<h2 id="table"><a class="headerlink" href="#table">¶</a>table</h2>
<div class="outline-text-2" id="text-table">
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" id="demo_table" rules="groups">
<colgroup>
<col class="org-right"/>
<col class="org-right"/>
<col class="org-left"/>
</colgroup>
<tbody>
<tr>
<td class="org-right"><samp class="inline">id</samp></td>
<td class="org-right"><samp class="inline">url_id</samp></td>
<td class="org-left"><samp class="inline">visit_time</samp></td>
</tr>
<tr>
<td class="org-right">…</td>
<td class="org-right">…</td>
<td class="org-left">…</td>
</tr>
<tr>
<td class="org-right">300</td>
<td class="org-right">100</td>
<td class="org-left">2011-02-10 10:00</td>
</tr>
<tr>
<td class="org-right">…</td>
<td class="org-right">…</td>
<td class="org-left">…</td>
</tr>
<tr>
<td class="org-right">498</td>
<td class="org-right">100</td>
<td class="org-left">2011-04-01 09:00</td>
</tr>
<tr>
<td class="org-right">499</td>
<td class="org-right">200</td>
<td class="org-left">2011-04-02 05:00</td>
</tr>
<tr>
<td class="org-right">…</td>
<td class="org-right">…</td>
<td class="org-left">…</td>
</tr>
<tr>
<td class="org-right">900</td>
<td class="org-right">100</td>
<td class="org-left">2012-06-03 12:00</td>
</tr>
</tbody>
</table>
<p>
After that, you can <a class="link-up" href="#demo_table">reference this table</a>.
</p>
<p>
Again, <code class="inline">compile-org.el</code> is using some custom code for meaningful ids.
</p>
</div>
</div>
<div class="outline-2">
<h2 id="plot"><a class="headerlink" href="#plot">¶</a>plot</h2>
<div class="outline-text-2" id="text-plot">
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> matplotlib, numpy
matplotlib.use(<span class="org-string">'Agg'</span>)
<span class="org-keyword">import</span> matplotlib.pyplot <span class="org-keyword">as</span> plt
<span class="org-variable-name">fig</span> = plt.figure(figsize=(6, 2))
<span class="org-variable-name">x</span> = numpy.linspace(-10, 10)
plt.plot(numpy.sin(x))
fig.tight_layout()
plt.savefig(<span class="org-string">'test.png'</span>)
<span class="org-keyword">return</span> <span class="org-string">'test.png'</span> 
</pre>
</div>
<div class="figure">
<p><img alt="test.png" src="test.png"/>
</p>
</div>
</div>
</div>

    </section>

    
    

    

    <section class="comments">
    <script data-isso="https://beepb00p.xyz/comments/" data-isso-reply-to-self="true" src="https://beepb00p.xyz/comments/js/embed.min.js">
</script>

<section data-isso-id="isso_org-sandbox" id="isso-thread"></section>
    </section>

</article>
        </main>

        <!-- TODO hmm maybe display something in a footer, so it's clear it's end of content... -->
        

        <!-- TODO make semantic -->
        <footer>
            <span style="float:left">
            <a href="https://twitter.com/karlicoss">🐦 me @twitter</a>
            ·
            <a href="https://github.com/karlicoss">💻 me @github</a>
            </span>

            <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>
            
            
        </footer>
    
</body></html>