<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#"><head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>

        <!-- Icon made by Twitter -->
        <!-- https://twemoji.twitter.com/content/twemoji-twitter/en.html -->
        <link href="./robot-face.png" rel="icon"/>
        <link href="./robot-face.png" rel="apple-touch-icon"/>

        <meta content="https://github.com/karlicoss/beepb00p" name="generator"/>
        <meta content="English" name="language"/>
        
        <meta content="pkm orgmode orger" name="keywords"/>
        
        <!-- TODO concat with keywords tags; also need to make comma separated? -->

        <title>Orger: plaintext reflection of your digital self | beepb00p</title>

        <link href="https://fonts.googleapis.com/css?family=Source+Serif+Pro" rel="stylesheet" type="text/css"/>
        <link href="./css/default.css?v=3" rel="stylesheet"/>
        <!-- TODO make conditional?? -->
        <link href="./css/posts-list.css" rel="stylesheet"/> 
        <link href="./css/links.css?v=4" rel="stylesheet"/>

        

        <link href="https://beepb00p.xyz/orger.html" rel="canonical"/>

        <!-- can test it with https://telegram.me/webpagebot -->
        <!-- or https://developers.facebook.com/tools/debug -->
        <meta content="website" property="og:type"/>
        <meta content="https://beepb00p.xyz/orger.html" property="og:url"/> <!-- TODO base? -->
        <meta content="Orger: plaintext reflection of your digital self | beepb00p" property="og:title"/>
        <meta content="Mirror your personal data as org-mode for instant access and search" property="og:description"/>
        <!-- ugh. why is image necessary??? otherwise other parts aren't working or I get lots of 404s -->
        <!-- ugh. Facebook really wants jpg? -->
        <!-- also Facebook displays it with black background, but whatever, fuck it. -->
        <meta content="https://beepb00p.xyz/robot-face.jpg" property="og:image"/>

    </head>
    <body>
        <!-- TODO make semantic -->
        <header>
            <nav>
                <span class="nav-left">
                    <a class="fat" href="./">Home</a>
                    <!-- TODO eh, not sure if this symbol is good for that... -->
                    ·
                    <a class="fat" href="./ideas.html">Ideas</a>
                    ·
                    <a class="fat" href="./exobrain">Exobrain</a>
                    ·
                    <a class="fat" href="./tags.html">Tags</a>
                </span>
                <span class="nav-right">
                    <a class="fat" href="./feed.html">Feed</a>
                    ·
                    <a class="fat" href="./site.html">Site</a>
                    ·
                    <a class="fat" href="./me.html">Me</a>
                    <div style="display:inline-block;font-size: 0.7rem;">
                        <a href="https://twitter.com/karlicoss" style="display:block;">@twitter</a>
                        <a href="https://github.com/karlicoss" style="display:block;">@github</a>
                    </div>
                </span>
            </nav>
        </header>

        <main>
            

<!-- <link rel="stylesheet" href="/css/org.css" /> -->

<link href="./css/htmlize.css" rel="stylesheet"/>
<link href="./css/org-default.css" rel="stylesheet"/>

<link href="./css/org-extra.css?v=3" rel="stylesheet"/>



<article>
    
    <section class="post-title">
    <h1>
        Orger: plaintext reflection of your digital self
        <a href="./blog-graph.html#orger" style="font-size: 1rem;vertical-align: super;" title="See this post within the blog graph, and how it's connected to other posts">[see within blog graph]</a>
    </h1>
    <div class="summary">Mirror your personal data as org-mode for instant access and search
    </div></section>
    <!-- are sections appropriate for that? -->

    <section class="content">
    <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#intro">1. Intro</a></li>
<li><a href="#what">2. What Orger does</a></li>
<li><a href="#demo">3. Demo: displaying Pocket data via Orger</a></li>
<li><a href="#examples">4. More examples</a>
<ul>
<li><a href="#instapaper">instapaper</a></li>
<li><a href="#hypothesis">hypothesis</a></li>
<li><a href="#kobo">kobo</a></li>
<li><a href="#pinboard">pinboard</a></li>
<li><a href="#pdfs">pdfs</a></li>
<li><a href="#twitter">twitter</a></li>
<li><a href="#rtm">rtm2org</a></li>
<li><a href="#telegram">telegram2org</a></li>
<li><a href="#reddit">reddit</a></li>
<li><a href="#roam">Roam Research</a></li>
</ul>
</li>
<li><a href="#why_hard">5. It seems trivial?</a></li>
<li><a href="#why_orger">6. What makes Orger good?</a></li>
<li><a href="#using">7. Using Orger views</a>
<ul>
<li><a href="#usecases">Typical use patterns</a></li>
</ul>
</li>
<li><a href="#improvements">8. Potential improvements</a></li>
<li><a href="#similar">9. Similar projects</a></li>
<li><a href="#fin">10. ----</a></li>
</ul>
</div>
</div>
<p>
TLDR: I'll write about <a href="https://github.com/karlicoss/orger">orger</a>, a tool I'm using to convert my personal data into easily readable and searchable org-mode views.
I'll present some examples and use cases, that will hopefully be helpful to you as well even if you are not sold by using my tool.
</p>
<p>
There is also <a href="orger-todos.html">second part</a> where I'm explaining how it can be used to process Reddit, create quick tasks from Telegram messages and help with spaced repetition.
If you're impatient, you can jump straight to a <a class="link-down" href="#demo">demo</a>.
</p>
<div class="outline-2">
<h2 id="intro"><a class="headerlink" href="#intro">¶</a><span class="section-number-2">1</span> Intro</h2>
<div class="outline-text-2" id="text-intro">
<div class="noop" id="for_exports_post">
<p>
</p>
<p>
I consume lots of digital content (books, articles, Reddit, Youtube, Twitter, etc.) and most of it I find somewhat useful and insightful.
I want to use that knowledge later, act and build on it. But there's an obstacle: the human brain.
</p>
<p>
It would be cool to be capable of always remembering and instantly recalling information you've interacted with, metadata and your thoughts on it.
Until we get augmented though, there are two options: the first is just to suck it up and live with it. You might have guessed this is not an option I'm comfortable with.
</p>
<div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">
The second option is compensating for your sloppy meaty memory and having information you've read at hand and a quick way of searching over it. 

</span><aside class="sidenote">see <a class="post-tag" href="./tags.html#extendedmind">#extendedmind</a></aside></div>
<p>
<a id="motivation"></a>
That sounds simple enough but as with many simple things, in practice you run into obstacles. 
I'll give some I've personally been overcoming as examples:
</p>
<ul class="org-ul">
<li>convenience of access, e.g.:
<ul class="org-ul">
<li>to access highlights and notes on my Kobo ebook I need to actually <b>reach my reader and tap through e-ink</b> touch screen. Not much fun!</li>
<li><div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">if you want to search over annotations in your PDF collections… well good luck, I'm just not aware of such a tool. It's actually way worse: many PDF viewers <b>wouldn't even let you search in highlights</b> within the file you're currently viewing. </span><aside class="sidenote">see PDF readers <a href="./annotating.html#pdfs">overview</a></aside></div></li>
<li>there is no easy way to quickly access all of your twitter favorites, people suggest using hacks like <a href="https://webapps.stackexchange.com/a/131374/68104">autoscroll extension</a>.</li>
</ul></li>
<li>searching data, e.g.:
<ul class="org-ul">
<li>search function often just isn't available at all, e.g. on Instapaper, you can't restrict search to highlights. If it is available, it's <b>almost never incremental</b>.</li>
<li>builtin browser search (<code class="inline">Ctrl-F</code>) sucks for the most part: it's not very easy to navigate as you don't get previews and you have to look through every match</li>
<li>sometimes you vaguely recall reading about something or seeing a link, but <b>don't remember where exactly</b>. Was it on stackoverflow? Or in some github issue? Or in a conversation with friend?</li>
</ul></li>
<li>data ownership and liberation, e.g.
<ul class="org-ul">
<li><p>
what happens if data disappears or service is down (temporary/permanently) or banned by your government?
</p>
<p>
You may think you live in a civilized country and that would never affect you. Well, <a href="https://www.theverge.com/2018/5/23/17387146/instapaper-gdpr-europe-access-shut-down-privacy-changes">in 2018</a>, Instapaper was unavailable in Europe for several months (!) due to missing the GDPR deadline.
</p></li>
<li><div style="margin-top: 16px; margin-bottom: 16px"><span class="before-aside">99% of services <b>don't have support for offline mode</b>. This may be just a small inconvenience if you're on a train or something, but there is more to it.
What if some sort of apocalypse happens and you lose all access to data? 
That depends on your paranoia level of course, and apocalypse is bad enough as it is, but my take on it is that at least I'd have my data :) </span><aside class="sidenote">see <a class="post-tag" href="./tags.html#offline">#offline</a></aside></div></li>
<li>if you delete a book on Kobo, not only you can't access its annotations anymore, but they seem to get <b>wiped</b> from the database.</li>
</ul></li>
</ul>
</div>
<p>
Thinking about that and tinkering helped me understand what I want: some sort of <b><b>search engine</b></b>, over my <b><b>personal data</b></b>, with <b><b>uniform</b></b> and <b><b>always available</b></b> way of accessing it.
</p>
<p>
So, I present you a system that I've developed and that solves all my problems™: <a href="https://github.com/karlicoss/orger">orger</a>.
</p>
</div>
</div>
<div class="outline-2">
<h2 id="what"><a class="headerlink" href="#what">¶</a><span class="section-number-2">2</span> What Orger does</h2>
<div class="outline-text-2" id="text-what">
<p>
It's really so quite trivial that it's almost stupid. Orger provides a simple python API to render any data as an Org-mode file. It's easier to give an example:
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">from</span> orger <span class="org-keyword">import</span> StaticView
<span class="org-keyword">from</span> orger.inorganic <span class="org-keyword">import</span> node, link
<span class="org-keyword">from</span> orger.common <span class="org-keyword">import</span> dt_heading

<span class="org-keyword">import</span> my.github_data

<span class="org-keyword">class</span> <span class="org-type">Github</span>(StaticView):
  <span class="org-keyword">def</span> <span class="org-function-name">get_items</span>(<span class="org-keyword">self</span>):
    <span class="org-keyword">for</span> event <span class="org-keyword">in</span> my.github_data.get_events():
      <span class="org-keyword">yield</span> node(dt_heading(event.dt, event.summary))

Github.main()
</pre>
</div>
<p>
That ten line program results in a file <samp class="inline">Github.org</samp>:
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="org-comment"># AUTOGENERATED BY /code/orger/github.py</span>

<span class="org-org-level-1">* </span><span class="org-org-date">[2016-10-30 Sun 10:29]</span><span class="org-org-level-1"> opened PR Add </span><span class="org-org-level-1"><span class="org-underline">__enter__</span></span><span class="org-org-level-1"> and </span><span class="org-org-level-1"><span class="org-underline">__exit__</span></span><span class="org-org-level-1"> to Pool stub</span>
<span class="org-org-level-1">* </span><span class="org-org-date">[2016-11-10 Thu 09:29]</span><span class="org-org-level-1"> opened PR Update gradle to 2.14.1 and gradle plugin to 2.1.1</span>
<span class="org-org-level-1">* </span><span class="org-org-date">[2016-11-16 Wed 20:20]</span><span class="org-org-level-1"> commented on issue Linker error makes it impossible to use a stack-provided ghc</span>
<span class="org-org-level-1">* </span><span class="org-org-date">[2016-12-30 Fri 11:57]</span><span class="org-org-level-1"> commented on issue Fix performance in the rare case of hashCode evaluating to zero </span>
<span class="org-org-level-1">* </span><span class="org-org-date">[2019-09-21 Sat 16:51]</span><span class="org-org-level-1"> commented on issue Tags containing letters outside of a-zA-Z</span>
....
</pre>
</div>
<p>
Even with event summaries only it can already be very useful to search over. What you can potentially do really depends on your imagination and needs! You can also add:
</p>
<ul class="org-ul">
<li>links</li>
<li>tags</li>
<li>timestamps</li>
<li>properties</li>
<li>child nodes</li>
</ul>
<p>
See <a class="link-down" href="#examples">'Examples'</a> section for more.
</p>
<p>
So as you can see orger itself is a really not sophisticated tool, at least until you spend time trying to reimplement the same.
As always the devil is in the details (look at that cheeky <code class="inline">my.github_data</code> import), which I'll explain <a class="link-down" href="#data_sources">further</a>.
</p>
</div>
</div>
<div class="outline-2">
<h2 id="demo"><a class="headerlink" href="#demo">¶</a><span class="section-number-2">3</span> Demo: displaying Pocket data via Orger</h2>
<div class="outline-text-2" id="text-demo">
<p>
I've documented one of modules, <a href="https://github.com/karlicoss/orger/blob/master/modules/pocket_demo.py"><samp class="inline">pocket_demo</samp></a> so you could get the sense of using Orger.
</p>
<details><summary>Click to view the code</summary>
<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/env python3</span>
<span class="org-doc">"""</span>
<span class="org-doc">Demo Orger adapter for Pocket data. For documentation purposes, so please modify pocket.py if you want to contribute.</span>
<span class="org-doc">"""</span>

<span class="org-doc">"""</span>
<span class="org-doc">First we define some abstractions for Pocket entities (articles and highlights).</span>

<span class="org-doc">While it's not that necessary and for one script you can get away with using json directly,</span>
<span class="org-doc"> it does help to separate parsing and rendering, allows you to reuse parsing for other projects</span>
<span class="org-doc"> and generally makes everything clean.</span>

<span class="org-doc">Also see https://github.com/karlicoss/HPI package for some inspiration.</span>
<span class="org-doc">"""</span>


<span class="org-keyword">from</span> datetime <span class="org-keyword">import</span> datetime
<span class="org-keyword">from</span> pathlib <span class="org-keyword">import</span> Path
<span class="org-keyword">from</span> typing <span class="org-keyword">import</span> NamedTuple, Sequence, Any

<span class="org-keyword">class</span> <span class="org-type">Highlight</span>(NamedTuple):
    <span class="org-doc">"""</span>
<span class="org-doc">    Abstract representation of Pocket highlight</span>
<span class="org-doc">    """</span>
    json: Any

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">text</span>(<span class="org-keyword">self</span>) -&gt; <span class="org-builtin">str</span>:
        <span class="org-keyword">return</span> <span class="org-keyword">self</span>.json[<span class="org-string">'quote'</span>]

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">created</span>(<span class="org-keyword">self</span>) -&gt; datetime:
        <span class="org-keyword">return</span> datetime.strptime(<span class="org-keyword">self</span>.json[<span class="org-string">'created_at'</span>], <span class="org-string">'%Y-%m-%d %H:%M:%S'</span>)


<span class="org-keyword">class</span> <span class="org-type">Article</span>(NamedTuple):
    <span class="org-doc">"""</span>
<span class="org-doc">    Abstract representation of Pocket saved page</span>
<span class="org-doc">    """</span>
    json: Any

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">url</span>(<span class="org-keyword">self</span>) -&gt; <span class="org-builtin">str</span>:
        <span class="org-keyword">return</span> <span class="org-keyword">self</span>.json[<span class="org-string">'given_url'</span>]

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">title</span>(<span class="org-keyword">self</span>) -&gt; <span class="org-builtin">str</span>:
        <span class="org-keyword">return</span> <span class="org-keyword">self</span>.json[<span class="org-string">'given_title'</span>]

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">pocket_link</span>(<span class="org-keyword">self</span>) -&gt; <span class="org-builtin">str</span>:
        <span class="org-keyword">return</span> <span class="org-string">'https://app.getpocket.com/read/'</span> + <span class="org-keyword">self</span>.json[<span class="org-string">'item_id'</span>]

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">added</span>(<span class="org-keyword">self</span>) -&gt; datetime:
        <span class="org-keyword">return</span> datetime.fromtimestamp(<span class="org-builtin">int</span>(<span class="org-keyword">self</span>.json[<span class="org-string">'time_added'</span>]))

    <span class="org-type">@property</span>
    <span class="org-keyword">def</span> <span class="org-function-name">highlights</span>(<span class="org-keyword">self</span>) -&gt; Sequence[Highlight]:
        <span class="org-variable-name">raw</span> = <span class="org-keyword">self</span>.json.get(<span class="org-string">'annotations'</span>, [])
        <span class="org-keyword">return</span> <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(Highlight, raw))

    <span class="org-comment-delimiter"># </span><span class="org-comment">TODO add tags?</span>


<span class="org-keyword">def</span> <span class="org-function-name">get_articles</span>(json_path: Path) -&gt; Sequence[Article]:
    <span class="org-doc">"""</span>
<span class="org-doc">    Parses Pocket export produced by https://github.com/karlicoss/pockexport</span>
<span class="org-doc">    """</span>
    <span class="org-keyword">import</span> json
    <span class="org-variable-name">raw</span> = json.loads(json_path.read_text())[<span class="org-string">'list'</span>]
    <span class="org-keyword">return</span> <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(Article, raw.values()))

<span class="org-string">"""</span>
<span class="org-string">Ok, now we can get to implementing the adapter.</span>
<span class="org-string">"""</span>
<span class="org-keyword">from</span> orger <span class="org-keyword">import</span> Mirror
<span class="org-string">"""</span>
<span class="org-string">Mirror means it's meant to be read-only view onto data (as opposed to Queue).</span>
<span class="org-string">"""</span>
<span class="org-keyword">from</span> orger.inorganic <span class="org-keyword">import</span> node, link
<span class="org-keyword">from</span> orger.common <span class="org-keyword">import</span> dt_heading


<span class="org-keyword">class</span> <span class="org-type">Pocket</span>(Mirror):
    <span class="org-keyword">def</span> <span class="org-function-name">get_items</span>(<span class="org-keyword">self</span>):
        <span class="org-doc">"""</span>
<span class="org-doc">        get_items returns a sequence/iterator of nodes</span>
<span class="org-doc">        see orger.inorganic.OrgNode to find out about attributes you can use</span>
<span class="org-doc">        """</span>
        <span class="org-variable-name">export_file</span> = <span class="org-keyword">self</span>.cmdline_args.<span class="org-builtin">file</span> <span class="org-comment-delimiter"># </span><span class="org-comment">see setup_parser</span>
        <span class="org-keyword">for</span> a <span class="org-keyword">in</span> get_articles(export_file):
            <span class="org-keyword">yield</span> node(
                heading=dt_heading(
                    a.added,
                    <span class="org-comment-delimiter"># </span><span class="org-comment">'pocket' permalink is pretty convenient to jump straight into Pocket app</span>
                    link(title=<span class="org-string">'pocket'</span>, url=a.pocket_link)  + <span class="org-string">' · '</span> + link(title=a.title, url=a.url),
                ),
                children=[node( <span class="org-comment-delimiter"># </span><span class="org-comment">comments are displayed as org-mode child entries</span>
                    heading=dt_heading(hl.created, hl.text)
                ) <span class="org-keyword">for</span> hl <span class="org-keyword">in</span> a.highlights]
            )


<span class="org-keyword">def</span> <span class="org-function-name">setup_parser</span>(p):
    <span class="org-doc">"""</span>
<span class="org-doc">    Optional hooks for extra arguments if you need them in your adapter</span>
<span class="org-doc">    """</span>
    p.add_argument(<span class="org-string">'--file'</span>, <span class="org-builtin">type</span>=Path, <span class="org-builtin">help</span>=<span class="org-string">'JSON file from API export'</span>, required=<span class="org-constant">True</span>)


<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    <span class="org-string">"""</span>
<span class="org-string">    Usage example: ./pocket.py --file /backups/pocket/last-backup.json --to /data/orger/pocket.org</span>
<span class="org-string">    """</span>
    Pocket.main(setup_parser=setup_parser)

<span class="org-string">"""</span>
<span class="org-string">Example pocket.org output:</span>

<span class="org-string"># AUTOGENERATED BY /L/zzz_syncthing/coding/orger/pocket.py</span>

<span class="org-string">* [2018-07-09 Mon 10:56] [[https://app.getpocket.com/read/1949330650][pocket]] · [[https://www.gwern.net/Complexity-vs-AI][Complexity no Bar to AI - Gwern.net]]</span>
<span class="org-string">** [2019-09-22 Sun 03:36] iving up determinism and using randomized algorithms which are faster but may not return an answer or a correct answer1</span>
<span class="org-string">** [2019-06-22 Sat 16:48] The apparent barrier of a complex problem can be bypassed by (in</span>
<span class="org-string">* [2016-10-21 Fri 14:42] [[https://app.getpocket.com/read/1407671000][pocket]] · [[https://johncarlosbaez.wordpress.com/2016/09/09/struggles-with-the-continuum-part-2/][Struggles with the Continuum (Part 2) | Azimuth]]</span>
<span class="org-string">* [2016-05-31 Tue 18:25] [[https://app.getpocket.com/read/1042711293][pocket]] · [[http://www.scottaaronson.com/blog/?p=2464][Bell inequality violation finally done right]]</span>
<span class="org-string">* [2016-05-31 Tue 18:24] [[https://app.getpocket.com/read/1188624587][pocket]] · [[https://packetzoom.com/blog/how-to-test-your-app-in-different-network-conditions.html][How to test your app in different network conditions -]]</span>
<span class="org-string">* [2016-05-31 Tue 18:24] [[https://app.getpocket.com/read/1191143185][pocket]] · [[http://www.schibsted.pl/2016/02/hood-okhttps-cache/][What's under the hood of the OkHttp's cache?]]</span>
<span class="org-string">* [2016-03-15 Tue 17:27] [[https://app.getpocket.com/read/1187239791][pocket]] · [[http://joeduffyblog.com/2016/02/07/the-error-model/][Joe Duffy - The Error Model]]</span>
<span class="org-string">** [2019-09-25 Wed 18:20] A bug is a kind of error the programmer didn’t expect. Inputs weren’t validated correctly, logic was written wrong, or any host of problems have arisen.</span>
<span class="org-string">** [2019-09-25 Wed 18:19] First, throwing an exception is usually ridiculously expensive. This is almost always due to the gathering of a stack trace.</span>
<span class="org-string">** [2019-09-25 Wed 18:20] In other words, an exception, as with error codes, is just a different kind of return value!</span>
<span class="org-string">"""</span>
</pre>
</div>
</details>
<details><summary>Click to view the output</summary>
<div id="content">
<div class="outline-2">
<h3 id="org6385060"><span class="timestamp-wrapper"><span class="timestamp">[2018-07-09 Mon 10:56] </span></span> <a href="https://app.getpocket.com/read/1949330650">pocket</a> · <a href="https://www.gwern.net/Complexity-vs-AI">Complexity no Bar to AI - Gwern.net</a></h3>
</div>
<div class="outline-2">
<h3 id="orgf66ad5f"><span class="timestamp-wrapper"><span class="timestamp">[2016-10-21 Fri 14:42] </span></span> <a href="https://app.getpocket.com/read/1407671000">pocket</a> · <a href="https://johncarlosbaez.wordpress.com/2016/09/09/struggles-with-the-continuum-part-2/">Struggles with the Continuum (Part 2) | Azimuth</a></h3>
</div>
<div class="outline-2">
<h3 id="orga907d2c"><span class="timestamp-wrapper"><span class="timestamp">[2016-05-31 Tue 18:25] </span></span> <a href="https://app.getpocket.com/read/1042711293">pocket</a> · <a href="http://www.scottaaronson.com/blog/?p=2464">Bell inequality violation finally done right</a></h3>
</div>
<div class="outline-2">
<h3 id="orgaa7b53a"><span class="timestamp-wrapper"><span class="timestamp">[2016-05-31 Tue 18:24] </span></span> <a href="https://app.getpocket.com/read/1188624587">pocket</a> · <a href="https://packetzoom.com/blog/how-to-test-your-app-in-different-network-conditions.html">How to test your app in different network conditions -</a></h3>
</div>
<div class="outline-2">
<h3 id="org01f1d77"><span class="timestamp-wrapper"><span class="timestamp">[2016-05-31 Tue 18:24] </span></span> <a href="https://app.getpocket.com/read/1191143185">pocket</a> · <a href="http://www.schibsted.pl/2016/02/hood-okhttps-cache/">What's under the hood of the OkHttp's cache?</a></h3>
</div>
<div class="outline-2">
<h3 id="orgdd27fdd"><span class="timestamp-wrapper"><span class="timestamp">[2016-03-15 Tue 17:27] </span></span> <a href="https://app.getpocket.com/read/1187239791">pocket</a> · <a href="http://joeduffyblog.com/2016/02/07/the-error-model/">Joe Duffy - The Error Model</a></h3>
<div class="outline-3">
<h4 id="org92bca32"><span class="timestamp-wrapper"><span class="timestamp">[2019-09-25 Wed 18:20] </span></span> A bug is a kind of error the programmer didn’t expect. Inputs weren’t validated correctly, logic was written wrong, or any host of problems have arisen.</h4>
</div>
<div class="outline-3">
<h4 id="org41ce646"><span class="timestamp-wrapper"><span class="timestamp">[2019-09-25 Wed 18:19] </span></span> First, throwing an exception is usually ridiculously expensive. This is almost always due to the gathering of a stack trace.</h4>
</div>
<div class="outline-3">
<h4 id="orge27b04d"><span class="timestamp-wrapper"><span class="timestamp">[2019-09-25 Wed 18:20] </span></span> In other words, an exception, as with error codes, is just a different kind of return value!</h4>
</div>
</div>
</div>
</details>
<p>
As you can see, it's very easy to see and search in all of your highlights.
Clicking on 'pocket' will jump straight to the Pocket web app to the article you were reading.
</p>
</div>
</div>
<div class="outline-2">
<h2 id="examples"><a class="headerlink" href="#examples">¶</a><span class="section-number-2">4</span> More examples</h2>
<div class="outline-text-2" id="text-examples">
<p>
I'm using more than ten different Orger modules, most of which I've moved into the <a href="https://github.com/karlicoss/orger/tree/master/modules">repository</a>. Here I'll describe some featured views I'm generating.
</p>
<p>
To give you a heads up, if you read the code, you'll see bunch of imports like <code class="inline">from my.hypothesis import ...</code>. 
I find it easier to move all data parsing in a separate <a href="https://github.com/karlicoss/my"><samp class="inline">my</samp></a> package, that deals with parsing and converting input data (typically, some JSON). 
That makes everything less messy, separates data and rendering and lets me reuse abstract models in other tools. 
Also that lets me access my data from any python code, which makes it way easier to use and interact with data.
</p>
<p>
Some of these are still private so if you're interested in something not present in the github repo, please don't be shy and open an issue, so I can prioritize.
</p>
<p>
Hopefully the code is readable enough and will give you some inspiration. 
If you find something confusing or you write your own module and want to contribute, please feel free to open issue/PR!
</p>
</div>
<div class="outline-3">
<h3 id="instapaper"><a class="headerlink" href="#instapaper">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/instapaper.py">instapaper</a></h3>
<div class="outline-text-3" id="text-instapaper">
<p>
Instapaper <a href="annotating.html#instapaper">doesn't have search</a> over annotations, so I implemented my own!
</p>
</div>
</div>
<div class="outline-3">
<h3 id="hypothesis"><a class="headerlink" href="#hypothesis">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/hypothesis.py">hypothesis</a></h3>
<div class="outline-text-3" id="text-hypothesis">
<p>
<a href="https://hypothes.is">Hypothesis</a> does have search, but it's still way quicker for me to invoke search in Emacs (takes literally less than a second) than do that in web browser.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="kobo"><a class="headerlink" href="#kobo">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/kobo.py">kobo</a></h3>
<div class="outline-text-3" id="text-kobo">
<p>
Generates views for all highlights and comments along with book titles from my Kobo database export.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="pinboard"><a class="headerlink" href="#pinboard">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/pinboard.py">pinboard</a></h3>
<div class="outline-text-3" id="text-pinboard">
<p>
Searches over my Pinboard bookmarks.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="pdfs"><a class="headerlink" href="#pdfs">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/pdfs.py">pdfs</a></h3>
<div class="outline-text-3" id="text-pdfs">
<p>
Crawls my filesystem for PDF files and collects all highlights and comments in a single view.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="twitter"><a class="headerlink" href="#twitter">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/twitter.py">twitter</a></h3>
<div class="outline-text-3" id="text-twitter">
<p>
It's got two modes
</p>
<ul class="org-ul">
<li>First mode generates a view of everything I've ever tweeted, so I can search over it.</li>
<li>Second mode generates a view of all older tweets from the previous years posted on the same day. I find it quite fascinating to read through it and observe how I've been changing over years.</li>
</ul>
</div>
</div>
<div class="outline-3">
<h3 id="rtm"><a class="headerlink" href="#rtm">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/rtm2org.py">rtm2org</a></h3>
<div class="outline-text-3" id="text-rtm">
<p>
I stopped using Remember The Milk a while ago, but there are still some tasks and notes I've left behind, which I'm slowly moving to org-mode or canceling over time.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="telegram"><a class="headerlink" href="#telegram">¶</a><a href="https://github.com/karlicoss/telegram2org">telegram2org</a></h3>
<div class="outline-text-3" id="text-telegram">
<p>
Lets me create todo tasks from Telegram messages in couple of taps (you can't use share function on them in Android).
</p>
<p>
I write about it <a href="orger-todos.html#telegram2org">in the second part</a>.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="reddit"><a class="headerlink" href="#reddit">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/reddit.py">reddit</a></h3>
<div class="outline-text-3" id="text-reddit">
<p>
Displays and lets me search my Reddit saved posts/comments.
</p>
<p>
I write about it <a href="orger-todos.html#reddit">in the second part</a>.
</p>
</div>
</div>
<div class="outline-3">
<h3 id="roam"><a class="headerlink" href="#roam">¶</a><a href="https://github.com/karlicoss/orger/blob/master/modules/roamresearch.py">Roam Research</a></h3>
<div class="outline-text-3" id="text-roam">
<p>
Mirrors Roam Research database, allowing for quick search and navigation within Emacs.
</p>
<p>
I write about it in detail <a href="myinfra-roam.html#orger">here</a>, there is also a video demo.
</p>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="why_hard"><a class="headerlink" href="#why_hard">¶</a><span class="section-number-2">5</span> It seems trivial?</h2>
<div class="outline-text-2" id="text-why_hard">
<p>
Does that really deserve a post?
</p>
<p>
Well yeah it really does seem simple… until you try to do it.
</p>
<ul class="org-ul">
<li><p>
emitting Org-mode
</p>
<p>
While it's plaintext, and generating simple outlines is trivial, with more sophisticated inputs, there is some nasty business of escaping and sanitizing that has to be dealt with.
I didn't manage to find any Python libraries capable of emitting Org-mode. Only project I knew of was <a href="https://github.com/bjonnh/PyOrgMode">PyOrgMode</a> but the author abandoned it.
</p>
<p>
When it comes to generating 10+ views from different data sources, you <b>really</b> want to make sure it's as little effort and minimal boilerplate as it can possibly be.
</p>
<p>
That's how <a href="https://github.com/karlicoss/inorganic">inorganic</a> library was born.
</p></li>
<li><p>
<a id="data_sources"></a>accessing data sources and exposing it through Python interfaces
</p>
<p>
This is probably where most of effort was spent. All sorts of stupid APIs, tedious parsing, you can imagine.
</p>
<p>
I'll write separately about it sometime, for now you can see some code I prettified and shared in my github <a href="https://github.com/search?type=Repositories&amp;q=user%3Akarlicoss+++topic%3Aexport">'export'</a> and <a href="https://github.com/karlicoss/HPI">HPI</a> packages.
I tried to make sure they are easy to use for other people and not specific to my use cases.
</p></li>
<li><p>
keeping track of already processed items for <samp class="inline">Interactive</samp> views
</p>
<p>
Because there is no feedback from org-mode files back to data sources, you want to keep track of items already added in the file, otherwise you're gonna have duplicates.
</p>
<p>
It's not rocket science of course, but it is quite tedious. There is some additional logic that checks for lock files, makes sure writes are atomic, etc. You really don't want to implement it more than once.
I figured it was worth extracting this 'pattern' in a separate <a href="https://github.com/karlicoss/orger/blob/master/src/orger/state.py">python module</a>.
</p></li>
</ul>
</div>
</div>
<div class="outline-2">
<h2 id="why_orger"><a class="headerlink" href="#why_orger">¶</a><span class="section-number-2">6</span> What makes Orger good?</h2>
<div class="outline-text-2" id="text-why_orger">
<ul class="org-ul">
<li><p>
it solves <a class="link-up" href="#motivation">my problems</a>! 
</p>
<p>
I won't go long into Org-mode propaganda, there are people that do it better than me out there, but for me it's good because it's a decent balance between ease of use and ease of augmenting.
</p>
<ul class="org-ul">
<li>it's easy to do unstructured (i.e. grep) or structured (i.e. tag search in emacs) search on any of your devices be it desktop or phone</li>
<li>you can open it anywhere you can open a text file</li>
<li>tasks as easy to create as any other Org outline so it can integrate with your todo list and agenda (see more in <a href="orger-todos.html">the second part</a>).</li>
</ul></li>
<li><p>
it doesn't require Emacs
</p>
<p>
If you're not willing to go full on Emacs, you can still benefit from this setup by using plaintext viewer and search tool of your choice.
</p></li>
<li><p>
written in Python. I don't claim at all that Python is the best programming language, but that's the one I'm most productive on as well as many other people.
</p>
<p>
Also the fact that it's a real programming language rather than some YAML config makes sure you can do anything and not restricted by stupid DSL.
</p></li>
<li>it's extremely easy to add new views — a matter of 10-20 lines of code.</li>
<li>agnostic to what you feed in it – it could be offline data from your regular backups, or it could be fresh API data. Again, it's a real programming language, you can do literally anything.</li>
</ul>
</div>
</div>
<div class="outline-2">
<h2 id="using"><a class="headerlink" href="#using">¶</a><span class="section-number-2">7</span> Using Orger views</h2>
<div class="outline-text-2" id="text-using">
<p>
Apart from, obviously, opening org mode file in your favorite text editor, one major strength of this system is being able to effortlessly search over them. 
</p>
<p>
I'm writing extensively about my information search setup <a href="pkm-search.html#personal_information">here</a>. In summary:
</p>
<ul class="org-ul">
<li>on my desktop I'm just using spacemacs or <a href="https://github.com/karlicoss/cloudmacs">cloudmacs</a> from web browser</li>
<li>in Emacs, I'm usually just using <a href="https://github.com/syohex/emacs-helm-ag">helm-ag</a> with <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a></li>
<li>sometimes <a href="https://github.com/emacsorphanage/helm-swoop">helm-swoop</a> is very convenient</li>
<li><a href="https://orgmode.org/manual/Matching-tags-and-properties.html"><samp class="inline">org-tags-view</samp></a> or <a href="https://github.com/alphapapa/org-ql#helm-org-ql"><samp class="inline">helm-org-ql</samp></a> for structured Org-mode search</li>
<li>I've got hotkeys set up that invoke Emacs window with search prompt in a blink</li>
</ul>
<p>
On my phone I'm using:
</p>
<ul class="org-ul">
<li><a href="https://github.com/orgzly/orgzly-android">orglzy</a> for structured search/viewing Org-mode files</li>
<li><a href="https://play.google.com/store/apps/details?id=com.docsearch.pro">Docsearch +</a> for</li>
</ul>
<p>
You can also set up some proper indexing daemon like <a href="https://www.lesbonscomptes.com/recoll">recoll</a>.
</p>
</div>
<div class="outline-3">
<h3 id="usecases"><a class="headerlink" href="#usecases">¶</a>Typical use patterns</h3>
<div class="outline-text-3" id="text-usecases">
<p>
I'll just give some of my use cases:
</p>
<ul class="org-ul">
<li><p>
While running tests for <a href="https://github.com/karlicoss/orgparse">orgparse</a> I started randomly getting  <samp class="inline">AssertionError: Cannot find component 'A@3' for 'orgparse.A@3</samp>. 
</p>
<p>
I recall that I had same issue few month ago but don't quite remember what was the fix. 
I press <samp class="inline">F1</samp> which invokes <code class="inline">helm-ag</code> for me and type 'cannot find component'.
I instantly find a github <a href="https://github.com/python/mypy/issues/7281">issue</a> I opened in <samp class="inline">github.org</samp> and figure out what I need to do to work around the problem.
</p></li>
<li><p>
While discussing special relativity with a friend, I recall watching some intuitive rationale for Maxwell's equations, but don't quite recall what was the video.
</p>
<p>
I press <samp class="inline">F1</samp>, type 'Special relativity' and instantly get few results, in particular <a href="https://www.youtube.com/watch?v=1TKSfAkWWN0">this</a> awesome Veritasium video in <samp class="inline">youtube.org</samp>, which I was looking for.
</p></li>
<li><p>
Recommending books
</p>
<p>
I often struggle to recall the details why I liked a particular book, especially fiction.
Having all annotations in my <samp class="inline">kobo.org</samp> file lets me quickly look up and skim through highlighted bits, so I can freshen up my memory.
</p></li>
</ul>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="improvements"><a class="headerlink" href="#improvements">¶</a><span class="section-number-2">8</span> Potential improvements</h2>
<div class="outline-text-2" id="text-improvements">
</div>
<div class="outline-4">
<h4 id="org0000000"><span class="todo TODO">TODO</span>more frequent, ideally realtime updates to views</h4>
<div class="outline-text-4">
<p>
If the API doesn't provide push-based interface (as most of them), ultimately it's a question of polling them carefully to avoid rate limiting penalties.
</p>
</div>
</div>
<div class="outline-4">
<h4 id="org0000001"><span class="todo TODO">TODO</span>alternative export formats</h4>
<div class="outline-text-4">
<p>
There is nothing really about Org-mode that's specific to this system. For instance, there are markdown-based organizers out there and people could benefit from using Orger for them.
</p>
</div>
</div>
<div class="outline-4">
<h4 id="org0000002"><span class="todo TODO">TODO</span>two-way data flow</h4>
<div class="outline-text-4">
<p>
It would be cool to implement feedback from emacs, e.g. editing Github comment when you edit the corresponding Orger item. But it requires considerably more effort and would only work within emacs.
</p>
</div>
</div>
<div class="outline-4">
<h4 id="org0000003"><span class="todo TODO">TODO</span>potential for race condition</h4>
<div class="outline-text-4">
<p>
Unfortunately there is a little space for race condition if Orger appends something while you're editing file. 
Orger tries to detect emacs and vim swap/lock files, but it's if you're very unlucky or using different setup it's still possible.
Hopefully your text editor warns you when the file had been overwritten while you were editing it (e.g. as emacs does).
</p>
<p>
Also, I run Orger jobs at night (via cron) so it's quite unlikely to overlap with editing anything.
</p>
</div>
</div>
</div>
<div class="outline-2">
<h2 id="similar"><a class="headerlink" href="#similar">¶</a><span class="section-number-2">9</span> Similar projects</h2>
<div class="outline-text-2" id="text-similar">
<ul class="org-ul">
<li><p>
<a href="https://github.com/novoid/Memacs">Memacs</a> by Karl Voit.
</p>
<p>
I only discovered it after I released Orger, so frankly haven't got to try it yet! It looks very similar in terms of goals and seems we can cooperate on rendering parts at least. 
</p>
<p>
One (as I see it) big advantage of my setup is that data providers are abstracted away in <code class="inline">my.</code> package, which makes everything more modular and resilient. However Memacs seems to be flexible as well, so it can be used with e.g. <code class="inline">my.</code> package as well.
</p>
<p>
If someone compares Memacs and Orger please let me know, I'd be happy to link it! It would also be more objective than comparison by myself!
</p></li>
</ul>
</div>
</div>
<div class="outline-2">
<h2 id="fin"><a class="headerlink" href="#fin">¶</a><span class="section-number-2">10</span> ----</h2>
<div class="outline-text-2" id="text-fin">
<p>
I'd be interested in hearing your thoughts or feature requests.
</p>
<p>
This post ended up longer that I expected so in the <a href="orger-todos.html">next part</a> I will tell about more use cases, in particular how I'm using Orger to process Reddit.
</p>
</div>
</div>

    </section>

    
    <section class="footer">
        <div class="post-tags">
            <a class="post-tag tag-active" href="./tags.html#pkm">#pkm</a>
            <a class="post-tag tag-inactive" href="./tags.html">#orgmode</a>
            <a class="post-tag tag-inactive" href="./tags.html">#orger</a>
        </div>
        <time datetime="2019-09-26T00:00:00">26 September 2019</time>
    </section>
    

    
    <br/>
    <div>Discussion:</div>
    <ul>
        <li><a href="https://www.reddit.com/r/orgmode/comments/da1sf0/orger_plaintext_reflection_of_your_digital_self">/r/orgmode</a></li>
        <li><a href="https://lobste.rs/s/rr9pxd/orger_plaintext_reflection_your_digital">lobste.rs</a></li>
    </ul>
    

    <section class="comments">
    <script data-isso="https://beepb00p.xyz/comments/" data-isso-reply-to-self="true" src="https://beepb00p.xyz/comments/js/embed.min.js">
</script>

<section data-isso-id="isso_orger" id="isso-thread"></section>
    </section>

</article>
        </main>
        
        <!-- TODO make semantic -->
        <footer>
            <span style="float:left">
            <a href="https://twitter.com/karlicoss">🐦 me @twitter</a>
            ·
            <a href="https://github.com/karlicoss">💻 me @github</a>
            </span>

            <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>
        </footer>
    
</body></html>